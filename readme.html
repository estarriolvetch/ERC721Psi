<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ERC721Psi &mdash; ERC721Psi  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to ERC721Psi’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> ERC721Psi
          </a>
              <div class="version">
                0.7.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">ERC721Psi</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installaion">Installaion</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#npm">npm</a></li>
<li class="toctree-l3"><a class="reference internal" href="#yarn">yarn</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#random-seed-extension">Random Seed Extension</a></li>
<li class="toctree-l2"><a class="reference internal" href="#considerations">Considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#road-map">Road Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="#contributors">Contributors</a></li>
<li class="toctree-l2"><a class="reference internal" href="#projects-using-erc721psi">Projects using ERC721Psi</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ERC721Psi</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>ERC721Psi</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/readme.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="erc721psi">
<h1>ERC721Psi<a class="headerlink" href="#erc721psi" title="Permalink to this heading"></a></h1>
<a class="reference external image-reference" href="https://github.com/estarriolvetch/ERC721Psi/actions/workflows/node.js.yml"><img alt="Node.js CI" src="https://github.com/estarriolvetch/ERC721Psi/actions/workflows/node.js.yml/badge.svg" /></a>
<a class="reference external image-reference" href="https://github.com/estarriolvetch/ERC721Psi/actions/workflows/deploy_npm.yml"><img alt="Publish Package to npmjs" src="https://github.com/estarriolvetch/ERC721Psi/actions/workflows/deploy_npm.yml/badge.svg" /></a>
<a class="reference external image-reference" href="https://github.com/estarriolvetch/ERC721Psi/actions/workflows/make_docs.yml"><img alt="Build Documentation" src="https://github.com/estarriolvetch/ERC721Psi/actions/workflows/make_docs.yml/badge.svg" /></a>
<a class="reference external image-reference" href="https://www.npmjs.com/package/erc721psi"><img alt="npm version" src="https://badge.fury.io/js/erc721psi.svg" /></a>
<p>ERC721Psi is an ERC721 compliant implementation designed for scalable and gas-efficient on-chain application with built-in randomized metadata generation.</p>
<p>Inspired by AzukiZen’s awesome ERC721A, ERC721Psi also provides batch minting at a fixed gas cost. However, ERC721Psi manages to solve the <a class="reference external" href="https://github.com/chiru-labs/ERC721A/issues/145">scaling issue of token transfer</a> through the mathematical power of the <a class="reference external" href="https://en.wikipedia.org/wiki/De_Bruijn_sequence">de Bruijn sequence</a>.</p>
<p><strong>If your application doesn’t require a specific ERC721 interface, you may be interested in checking `ERC1155Delta &lt;https://erc1155delta.ctor.xyz&gt;`_ which provides even more gas savings than ERC721Psi.</strong></p>
<p><a href="#id1"><span class="problematic" id="id2">**</span></a>ERC721Psi is releasd under MIT opensource licence and is free to use. If you need commercial support/service regarding ERC721Psi, feel free to contact <a class="reference external" href="https://ctor.xyz">ctor.xyz</a>**</p>
<p>Powered by Chainlink’s VRF V2, ERC721Psi comes with an extension that can batch mint multiple tokens with tamper-proof on-chain random attributes while retaining the fixed minting gas cost.</p>
<p>Litepaper: <a class="reference external" href="https://mirror.xyz/ctor.xyz/zy3TUWuJFSeWyMWAucTRP45o-sVToKTrtDsUIiD_m48">mirror.xyz/ctor.xyz/zy3TUWuJFSeWyMWAucTRP45o-sVToKTrtDsUIiD_m48</a></p>
<p>Slides: <a class="reference external" href="https://www.slideshare.net/EstarriolVetch/erc721psi">slideshare.net/EstarriolVetch/erc721psi</a></p>
<p>Docs: <a class="reference external" href="https://estarriolvetch.github.io/ERC721Psi/">estarriolvetch.github.io/ERC721Psi/</a></p>
<section id="installaion">
<h2>Installaion<a class="headerlink" href="#installaion" title="Permalink to this heading"></a></h2>
<section id="npm">
<h3>npm<a class="headerlink" href="#npm" title="Permalink to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="n">install</span> <span class="o">--</span><span class="n">save</span><span class="o">-</span><span class="n">dev</span> <span class="n">erc721psi</span>
</pre></div>
</div>
</section>
<section id="yarn">
<h3>yarn<a class="headerlink" href="#yarn" title="Permalink to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">yarn</span> <span class="n">add</span> <span class="o">--</span><span class="n">dev</span> <span class="n">erc721psi</span>
</pre></div>
</div>
</section>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this heading"></a></h2>
<div class="highlight-solidity notranslate"><div class="highlight"><pre><span></span><span class="k">pragma solidity</span><span class="w"> </span><span class="o">^</span><span class="k">0.8.0</span><span class="p">;</span><span class="w"></span>

<span class="kt">import</span><span class="w"> </span><span class="s2">&quot;erc721psi/contracts/ERC721Psi.sol&quot;</span><span class="p">;</span><span class="w"></span>

<span class="k">contract</span><span class="w"> </span><span class="ni">Adventurer</span><span class="w"> </span><span class="kt">is</span><span class="w"> </span>ERC721Psi<span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">    </span><span class="kt">constructor</span><span class="p">()</span><span class="w"></span>
<span class="w">        </span>ERC721Psi<span class="w"> </span><span class="p">(</span><span class="s2">&quot;Adventurer&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ADVENTURER&quot;</span><span class="p">){</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">mint</span><span class="p">(</span><span class="kt">uint256</span><span class="w"> </span><span class="nv">quantity</span><span class="p">)</span><span class="w"> </span><span class="kt">external</span><span class="w"> </span><span class="kt">payable</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">// _safeMint&#39;s second argument now takes in a quantity, not a tokenId. (same as ERC721A)</span>
<span class="w">        </span>_safeMint<span class="p">(</span><span class="k">msg.sender</span><span class="p">,</span><span class="w"> </span>quantity<span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="random-seed-extension">
<h2>Random Seed Extension<a class="headerlink" href="#random-seed-extension" title="Permalink to this heading"></a></h2>
<p>The random seed extensions provide an easy way for NFT projects to create on-chain randomized metadata at the individual token level.</p>
<p>The random seed extensions use Chainlink’s VRF V2 as its source of randomness. Each token comes with its own unique seed that can be used to derived its attributes.</p>
<div class="highlight-solidity notranslate"><div class="highlight"><pre><span></span>interface<span class="w"> </span>IERC721RandomSeed<span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">seed</span><span class="p">(</span><span class="kt">uint256</span><span class="w"> </span><span class="nv">tokenId</span><span class="p">)</span><span class="w"> </span><span class="kt">external</span><span class="w"> </span>view<span class="w"> </span><span class="kt">returns</span><span class="w"> </span><span class="p">(</span><span class="kt">uint256</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>There are two types of random seed extensions with different schemes of requesting randomness.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ERC721PsiRandomSeed</span></code>: The randomness is requested during minting. There is no extra actions required for the project owner to reveal the token. The random seeds of the tokens will be revealed when the randomness request is fulfilled by the Chainlink nodes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ERC721PsiRandomSeedReveal</span></code>: The randomness is requested when the <code class="docutils literal notranslate"><span class="pre">_reveal()</span></code> function is called. This function is usually called by the project owner to reveal the tokens. Everytime <code class="docutils literal notranslate"><span class="pre">_reveal()</span></code> is called, it will reveal the random seeds of all the tokens minted since the last reveal.</p></li>
</ul>
</section>
<section id="considerations">
<h2>Considerations<a class="headerlink" href="#considerations" title="Permalink to this heading"></a></h2>
<p>It is important to realize that <code class="docutils literal notranslate"><span class="pre">balanceOf</span></code>, <code class="docutils literal notranslate"><span class="pre">totalSupply</span></code>, <code class="docutils literal notranslate"><span class="pre">tokenByIndex</span></code>, and <code class="docutils literal notranslate"><span class="pre">tokenOfOwnerByIndex</span></code> in ERC721Psi are not designed to be gas efficient since they are mostly used by front end only. By doing so, we are able to reduce the storage usage and thus minimize the gas consumption for the rest of the functions.</p>
<p>If tracking <code class="docutils literal notranslate"><span class="pre">balanceOf</span></code> on-chain is important for your application, please use the <code class="docutils literal notranslate"><span class="pre">ERC721PsiAddressData</span></code> extension.</p>
</section>
<section id="road-map">
<h2>Road Map<a class="headerlink" href="#road-map" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Implement more extensions.</p></li>
<li><p>Add more test cases.</p></li>
<li><p>Build an contract wizard (<a class="reference external" href="https://wizard.openzeppelin.com/#erc721">like this</a>) for generating the contract skeleton.</p></li>
</ul>
</section>
<section id="contributors">
<h2>Contributors<a class="headerlink" href="#contributors" title="Permalink to this heading"></a></h2>
<p>PRs on documentation, test cases, and contract improvements are welcome.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/madeinfree">madeinfree</a></p></li>
<li><p><a class="reference external" href="https://github.com/lucaventura">lucaventura</a></p></li>
</ul>
</section>
<section id="projects-using-erc721psi">
<h2>Projects using ERC721Psi<a class="headerlink" href="#projects-using-erc721psi" title="Permalink to this heading"></a></h2>
<p>If your project uses ERC721Psi, we’d like know more about it!</p>
<p>Feel free to DM <a class="reference external" href="https://twitter.com/0xEstarriol">0xEstarriol</a> to share your project.</p>
<ul class="simple">
<li><p>Shellz Orb: <a class="reference external" href="https://opensea.io/collection/shellzorb">opensea</a></p></li>
<li><p>Boxcat Planet: <a class="reference external" href="https://opensea.io/collection/boxcatplanet-official">opensea</a></p></li>
<li><p>Medieval Adventurer: <a class="reference external" href="https://twitter.com/DaoMedieval">twitter</a>, <a class="reference external" href="https://opensea.io/collection/medieval-adventurer/">opensea</a></p></li>
<li><p>Haruna Future: <a class="reference external" href="https://twitter.com/HarunaNft">twitter</a>, <a class="reference external" href="https://opensea.io/collection/harunafutureofficial">opensea</a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to ERC721Psi’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, 0xEstarriol.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>